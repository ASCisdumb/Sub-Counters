<!DOCTYPE html>

<html>
    <head>
        <title>MrBeast Sub Count</title>
        <link rel="stylesheet" href="../odometer.css">
        <link rel="stylesheet" href="../global.css">
        <script src="../odometer.js"></script>
        <script src="https://code.highcharts.com/10.3.3/highcharts.js"></script>
    </head>
        <body>
            <span id="count" class="odometer">0</span>
            <div id="container" style="width:100%; height:400px;"></div>
            <script>
                function updateCounts() {
        fetch("https://livecounts.xyz/api/youtube-live-subscriber-count/live/UCX6OQ3DkcsbYNE6H8uQQuVA").then((res) => res.json()).then((data) => {
            document.getElementById("count").textContent = data.counts[0]
        })
    }
    
    updateCounts()
    setInterval(updateCounts, 2000);

    function updateGraph() {
          if (subGraph.series[0].points.length == 3600)
          subGraph.series[0].data[0].remove();
          subGraph.series[0].addPoint([
          Date.now(),
          Math.floor(view),
          ]);


          document.addEventListener('DOMContentLoaded', function () {
        const chart = Highcharts.chart('container', {
            chart: {
                type: 'bar'
            },
            title: {
                text: 'Fruit Consumption'
            },
            xAxis: {
                categories: ['Apples', 'Bananas', 'Oranges']
            },
            yAxis: {
                title: {
                    text: 'Fruit eaten'
                }
            },
            series: [{
                name: 'Jane',
                data: [1, 0, 4]
            }, {
                name: 'John',
                data: [5, 7, 3]
            }]
        });
    });

    setInterval(updateGraph, 2100);
  
            </script>
        </body>
    </html>